//--------------------------------------------------------------------------------------------
//-----Projeto: 31:01                                                                          ---------
//-----Titulo: Rangi + motor + controle + olhos                                                                        ---------
//-----Autor:@dinossauro.bebado/@DinossauroBbad1                                     ---------
//-----Objetivo :  adicionar as telas de oled ao robo                                                                   ---------
/*-----Data : 23/01/21 -
//            24/01/21 - 
              26/01/21 - 
              28/01/21 -
              17/02/21 -
              18/02/21
*/
//--------------------------------------------------------------------------------------------
// carrega a biblioteca do Shield
#include <AFMotor.h>
//carrega a biblioteca do Controle de PS2 
#include <PS2X_lib.h>
//carrega a biblioteca dos oleds


#include <Adafruit_SSD1306.h>
//inicia o objeto do display 

Adafruit_SSD1306 display(128,32,&Wire,-1);
// Define o motor e  a posição dos motores 
  AF_DCMotor frente_esquerda(4); 
  AF_DCMotor frente_direita(1);
  AF_DCMotor tras_direita(2); 
  AF_DCMotor tras_esquerda(3); 
//Cria a classe do PS2 
  PS2X ps2x;
//variaveis para o controle de ps2 
  int error = 0;
  byte type = 0;
  byte vibrate = 0;
  bool START = false;
//variaveis motor 
  int max_speed = 255 ; 
  int tolerancia = 30;  
  int motor_y ; 
  int motor_x ;
//variaveis olhos 
  int raio_olho = 7 ; 
  int olho_y ;
  int olho_x ; 
  int tempo_emocao = 1000;

//variavel de imagem 
// 'DinossauroBebadologoBWlsmall', 103x64px
const unsigned char DinossauroBebadoLogo [] PROGMEM = {
  0xf0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x80, 0x07, 0xff, 
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x80, 0x00, 0x7f, 0xff, 0xff, 0xfe, 
  0x00, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x80, 0x00, 0x0f, 0xff, 0xff, 0xe0, 0x00, 0x03, 0xff, 
  0xff, 0xff, 0xff, 0xfe, 0x80, 0x00, 0x01, 0xff, 0xff, 0x80, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 
  0xfe, 0x80, 0x00, 0x00, 0x7f, 0xfe, 0x00, 0x00, 0x00, 0x3f, 0xff, 0xff, 0xff, 0xfe, 0xc0, 0x00, 
  0x00, 0x0f, 0xf8, 0x00, 0x00, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xfe, 0xc0, 0x0f, 0xe0, 0x03, 0xe0, 
  0x00, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0xfe, 0xe0, 0x1f, 0xfe, 0x00, 0xc0, 0x00, 0x00, 0x00, 
  0x01, 0xff, 0xff, 0xff, 0xfe, 0xf0, 0x1f, 0xff, 0x81, 0x80, 0x04, 0x00, 0x00, 0x00, 0xff, 0xff, 
  0xff, 0xfe, 0xf8, 0x0f, 0xff, 0xf3, 0x00, 0x3f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0xfe, 0xf8, 
  0x0f, 0xff, 0xfe, 0x00, 0x7f, 0xff, 0xff, 0xc0, 0x3f, 0xff, 0xff, 0xfe, 0xfc, 0x07, 0xff, 0xfc, 
  0x00, 0x7c, 0xe7, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xfe, 0xfe, 0x03, 0xff, 0xf8, 0x00, 0xfe, 0x60, 
  0xdf, 0xe0, 0x0f, 0xff, 0xff, 0xfe, 0xff, 0x03, 0xff, 0xf0, 0x01, 0xff, 0x30, 0x9f, 0xe0, 0x07, 
  0xff, 0xff, 0xfe, 0xff, 0x81, 0xff, 0xf0, 0x03, 0xff, 0x38, 0xff, 0x80, 0x07, 0xff, 0xff, 0xfe, 
  0xff, 0xc0, 0xff, 0xe0, 0x0f, 0xff, 0x3f, 0xff, 0x00, 0x03, 0xff, 0xff, 0xfe, 0xff, 0xf0, 0x7f, 
  0xe0, 0x0f, 0xff, 0xff, 0xfe, 0x00, 0x01, 0xff, 0xff, 0xfe, 0xff, 0xf8, 0x3f, 0xc0, 0x07, 0xff, 
  0xff, 0xf4, 0x00, 0x01, 0xff, 0xff, 0xfe, 0xff, 0xfc, 0x0f, 0xc0, 0x3f, 0xff, 0xf0, 0x60, 0x00, 
  0x00, 0xff, 0xff, 0xfe, 0xff, 0xfe, 0x07, 0x80, 0x07, 0xff, 0xc0, 0x00, 0x00, 0x00, 0xff, 0xff, 
  0xfe, 0xff, 0xff, 0x03, 0x80, 0x0f, 0xff, 0xc0, 0x00, 0x00, 0x00, 0xff, 0xff, 0xfe, 0xff, 0xff, 
  0xc1, 0x80, 0x3f, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x7f, 0xff, 0xfe, 0xff, 0xff, 0xe0, 0xc0, 0x0f, 
  0xff, 0xf8, 0x00, 0x00, 0x00, 0x7f, 0xff, 0xfe, 0xff, 0xff, 0xf0, 0x30, 0x0f, 0xff, 0xfc, 0x00, 
  0x00, 0x00, 0x7f, 0xff, 0xfe, 0xff, 0xff, 0xf8, 0x18, 0x3f, 0xff, 0xff, 0x89, 0x00, 0x00, 0x3f, 
  0xff, 0xfe, 0xff, 0xff, 0xfe, 0x0e, 0x0f, 0xff, 0xff, 0xff, 0x80, 0x00, 0x3f, 0xff, 0xfe, 0xff, 
  0xff, 0xff, 0x03, 0x0f, 0xff, 0xff, 0xff, 0x80, 0x00, 0x3f, 0xff, 0xfe, 0xff, 0xff, 0xfe, 0xc1, 
  0x8f, 0xff, 0xff, 0xff, 0x00, 0x00, 0x3f, 0xff, 0xfe, 0xff, 0xff, 0xfe, 0x60, 0x6f, 0xf8, 0xfc, 
  0x3e, 0x00, 0x00, 0x3f, 0xff, 0xfe, 0xff, 0xff, 0xfe, 0x18, 0x3f, 0xf8, 0x00, 0x00, 0x00, 0x00, 
  0x3f, 0xff, 0xfe, 0xff, 0xff, 0xfe, 0x0c, 0x0f, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xff, 0xfe, 
  0xff, 0xff, 0xfe, 0x03, 0x07, 0xf8, 0x00, 0x1f, 0x00, 0x00, 0x3f, 0xff, 0xfe, 0xff, 0xff, 0xfe, 
  0x01, 0x81, 0xf8, 0x00, 0x3f, 0xf0, 0x00, 0x3f, 0xff, 0xfe, 0xff, 0xff, 0xfe, 0x00, 0x60, 0xe8, 
  0x00, 0xff, 0xf8, 0x00, 0x3f, 0xff, 0xfe, 0xff, 0xff, 0xfe, 0x00, 0x30, 0x30, 0x01, 0xff, 0xf8, 
  0x00, 0x3f, 0xff, 0xfe, 0xff, 0xff, 0xfe, 0x00, 0xbc, 0x0c, 0x01, 0xff, 0xfc, 0x00, 0x3f, 0xff, 
  0xfe, 0xff, 0xff, 0xfe, 0x00, 0xfe, 0x06, 0x01, 0xff, 0xfc, 0x00, 0x3f, 0xff, 0xfe, 0xff, 0xff, 
  0xff, 0x00, 0xff, 0x81, 0x81, 0xff, 0xfc, 0x00, 0x6f, 0xff, 0xfe, 0xff, 0xff, 0xff, 0x03, 0xff, 
  0xe0, 0xe7, 0xff, 0xfc, 0x00, 0x67, 0xff, 0xfe, 0xff, 0xff, 0xff, 0x07, 0xff, 0x70, 0x3f, 0x9f, 
  0xf8, 0x00, 0x43, 0xff, 0xfe, 0xff, 0xff, 0xff, 0x07, 0xff, 0x0c, 0x0c, 0x83, 0xf0, 0x00, 0x40, 
  0xff, 0xfe, 0xff, 0xff, 0xff, 0x87, 0xff, 0x83, 0x03, 0x81, 0xf0, 0x00, 0xe0, 0x7f, 0xfe, 0xff, 
  0xff, 0xff, 0x9f, 0xfe, 0x60, 0x80, 0xc0, 0xf0, 0x00, 0xf8, 0x3f, 0xfe, 0xff, 0xff, 0xff, 0xdf, 
  0xfe, 0x3c, 0xe0, 0x70, 0xf0, 0x00, 0xfc, 0x1f, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xf8, 
  0x1c, 0x70, 0x01, 0xfe, 0x07, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x0e, 0x07, 0x70, 0x01, 
  0xff, 0x03, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x0f, 0x81, 0xd0, 0x03, 0xff, 0x81, 0xfe, 
  0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x07, 0xe0, 0x38, 0x07, 0xff, 0xc0, 0xfe, 0xff, 0xff, 0xff, 
  0xff, 0xfb, 0x80, 0x03, 0xb8, 0x0e, 0x07, 0xff, 0xe0, 0x7e, 0xff, 0xff, 0xff, 0xff, 0xf8, 0xce, 
  0x00, 0x8e, 0x03, 0x8f, 0xff, 0xf0, 0x3e, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x7a, 0x00, 0x83, 0x80, 
  0xff, 0xff, 0xf0, 0x1e, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x04, 0x01, 0xe1, 0xe0, 0x1f, 0xff, 0xf8, 
  0x0e, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x06, 0x00, 0xff, 0xf8, 0x07, 0xff, 0xfc, 0x06, 0xff, 0xff, 
  0xff, 0xff, 0xc0, 0x00, 0x00, 0x7f, 0xee, 0x00, 0xff, 0xfc, 0x02, 0xff, 0xff, 0xff, 0xff, 0xc0, 
  0x00, 0x00, 0x00, 0x03, 0x80, 0x1f, 0xfc, 0x02, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x00, 0x00, 0x00, 
  0x07, 0xe0, 0x01, 0xf8, 0x00, 0xff, 0xff, 0xff, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x0f, 0xfc, 0x00, 
  0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x00, 0x00, 0x00, 0x3f, 0xff, 0x00, 0x00, 0x00, 0xff, 
  0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x00, 0xff, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 
  0xff, 0xf0, 0x00, 0x07, 0xff, 0xff, 0xfc, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 
  0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
  0xff, 0xf8, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe
  };
void testa_motores(){
   testa_motor(frente_direita);
  delay(500);
   testa_motor(tras_direita);
  delay(500);
   testa_motor(tras_esquerda);
  delay(500);
   testa_motor(frente_esquerda);
  delay(500);
  }

void testa_motor(AF_DCMotor motor){
  motor.run(FORWARD);
  delay(500);
  motor.run(BACKWARD);
  delay(500);
  motor.run(RELEASE); 
}

  
